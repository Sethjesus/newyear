<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <!-- æ‰‹æ©Ÿå‹å–„ï¼šæ–ä¸€æ¬¡è–ç­Š Â· å™´å‡º6å¥Jackyç¥ç¦ Â· ç„¡é™äº’å‹• -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes, viewport-fit=cover">
    <title>Jacky è–ç­Š Â· ç„¡é™ç¥ç¦</title>
    <style>
        /* ********** äº’å‹•ç‚¸è£‚ Â· ç­Šä¸€æ¬¡å™´æ»¿å±ç¥ç¦ ********** */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: #7d2a1a;
            background: radial-gradient(circle at 20% 30%, #b84c2a, #601a0a);
            font-family: "Noto Serif TC", "æ¨™æ¥·é«”", "PingFang TC", sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px;
            color: #fff3d4;
            position: relative;
        }

        /* ------------- ç¥ç¦æ³¡æ³¡å®¹å™¨ Â· å‹•æ…‹å™´ç™¼ ------------- */
        .bless-bubbles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            overflow: hidden;
        }
        
        .bubble-bless {
            position: absolute;
            font-size: min(32px, 7vw);
            font-weight: 900;
            white-space: nowrap;
            background: linear-gradient(145deg, #fff7cf, #ffdb7c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px #ff8c1a, 0 0 15px #ff5500, 3px 3px 0 #6a2a1a;
            letter-spacing: 4px;
            animation: bubbleUp 3s ease-out forwards;
            z-index: 10000;
            filter: drop-shadow(0 0 15px #ffaa00);
        }
        
        @keyframes bubbleUp {
            0% { opacity: 0; transform: translateY(0) scale(0.5); }
            10% { opacity: 1; transform: translateY(-20px) scale(1.2); }
            80% { opacity: 1; transform: translateY(-180px) scale(1); }
            100% { opacity: 0; transform: translateY(-250px) scale(0.8); }
        }

        /* ------------- æ»¿å¤©Jackyè³€è© Â· èƒŒæ™¯å¸¸é§ ------------- */
        .sky-jacky {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        .fly-jacky {
            position: absolute;
            font-size: min(36px, 7.5vw);
            font-weight: 900;
            opacity: 0;
            animation: flyAround 20s infinite linear;
            white-space: nowrap;
            background: linear-gradient(145deg, #ffeaa6, #ffcc66);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 25px #ff8c1a, 0 0 10px #ff5500, 2px 2px 0 #7a2a0a;
            letter-spacing: 6px;
        }
        @keyframes flyAround {
            0% { opacity: 0; transform: translateX(120vw) translateY(20vh) rotate(0deg); }
            10% { opacity: 0.95; }
            90% { opacity: 0.95; }
            100% { opacity: 0; transform: translateX(-40vw) translateY(-20vh) rotate(360deg); }
        }
        
        .j1 { top: 5%; left: 0%; animation-delay: 0s; }
        .j2 { top: 15%; left: 10%; animation-delay: 1.8s; }
        .j3 { top: 30%; left: 5%; animation-delay: 3.2s; }
        .j4 { top: 45%; left: 15%; animation-delay: 4.6s; }
        .j5 { top: 60%; left: 8%; animation-delay: 6.0s; }
        .j6 { top: 75%; left: 12%; animation-delay: 7.4s; }
        .j7 { top: 20%; left: 70%; animation-delay: 2.2s; }
        .j8 { top: 35%; left: 75%; animation-delay: 3.8s; }
        .j9 { top: 50%; left: 80%; animation-delay: 5.4s; }
        .j10 { top: 65%; left: 68%; animation-delay: 7.0s; }
        .j11 { top: 80%; left: 72%; animation-delay: 8.4s; }
        .j12 { top: 90%; left: 65%; animation-delay: 9.6s; }

        /* ------------- ç´…åŒ…ä¸»é«” ------------- */
        .red-packet {
            background: #d43d1c;
            background: linear-gradient(145deg, #e64d2a, #b32e12);
            max-width: 700px;
            width: 100%;
            border-radius: 60px 60px 30px 30px;
            border: 12px solid #ffcd7e;
            box-shadow: 0 20px 0 #7b3a1a, 0 30px 50px rgba(0,0,0,0.7);
            padding: 35px 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 20;
            margin: 30px auto 20px;
            animation: float 2.8s infinite alternate, borderGlow 1.5s infinite alternate;
        }
        @keyframes float {
            from { transform: translateY(0px) rotate(-1deg); }
            to { transform: translateY(-12px) rotate(1deg); }
        }
        @keyframes borderGlow {
            from { border-color: #ffcd7e; box-shadow: 0 20px 0 #7b3a1a, 0 0 30px #ff9933; }
            to { border-color: #ffeaa6; box-shadow: 0 20px 0 #7b3a1a, 0 0 70px #ffcc33; }
        }

        .red-packet::before {
            content: "ğŸ´ Jacky ç„¡é™ç¥ç¦ ğŸ´";
            position: absolute;
            top: -20px;
            left: 15%;
            width: 70%;
            background: #ffe642;
            color: #a33e1a;
            font-size: min(34px, 7vw);
            font-weight: 900;
            text-align: center;
            padding: 12px 0;
            border-radius: 60px;
            border: 6px solid #ffaa22;
            box-shadow: 0 10px 0 #a05a2a, 0 0 40px #ffcc00;
            letter-spacing: 10px;
            animation: flap 1.2s infinite alternate;
            text-shadow: 2px 2px 0 #fff3b0;
        }
        @keyframes flap {
            from { transform: scale(1) rotate(-2deg); }
            to { transform: scale(1.05) rotate(2deg); }
        }

        .jacky-avatar {
            font-size: min(70px, 16vw);
            filter: drop-shadow(0 0 30px #ffaa00);
            animation: avatarSpin 5s infinite linear;
            margin-bottom: 10px;
        }
        @keyframes avatarSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .big-sheng {
            font-size: min(100px, 22vw);
            font-weight: 900;
            color: #fff8b0;
            text-shadow: 8px 8px 0 #832a1a, 0 0 60px #ffdd44;
            line-height: 1;
            animation: bigPop 1.4s infinite alternate;
        }
        @keyframes bigPop {
            from { transform: scale(1); text-shadow: 8px 8px 0 #832a1a, 0 0 30px #ffdd44; }
            to { transform: scale(1.15); text-shadow: 10px 10px 0 #832a1a, 0 0 80px #ffee88; }
        }

        /* è·‘é¦¬ç‡ˆ */
        .marquee-jacky {
            width: 100%;
            background: rgba(80, 30, 10, 0.85);
            backdrop-filter: blur(8px);
            border-radius: 60px;
            padding: 18px 10px;
            margin: 20px 0;
            border: 6px solid #ffcc44;
            overflow: hidden;
            white-space: nowrap;
            animation: borderFlash 1.8s infinite alternate;
        }
        @keyframes borderFlash {
            from { border-color: #ffcc44; box-shadow: 0 0 20px #ffaa33; }
            to { border-color: #ffee88; box-shadow: 0 0 50px #ffcc00; }
        }
        .marquee-text {
            display: inline-block;
            font-size: min(40px, 8.5vw);
            font-weight: 900;
            color: #fffacd;
            text-shadow: 4px 4px 0 #6a2a1a;
            animation: scrollText 12s infinite linear;
            white-space: nowrap;
            letter-spacing: 15px;
        }
        @keyframes scrollText {
            from { transform: translateX(100%); }
            to { transform: translateX(-450%); }
        }

        /* ------------- è–ç­Šé¢æ¿ Â· æ–ä¸€æ¬¡å™´6å¥ ------------- */
        .bwa-panel {
            background: rgba(25, 12, 5, 0.96);
            backdrop-filter: blur(15px);
            border: 8px solid #ffaa33;
            border-radius: 80px 80px 40px 40px;
            padding: 30px 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            box-shadow: 0 0 70px #ff8800, inset 0 0 30px #5a2e1a;
            border-top: 15px solid #ffcc44;
            animation: panelWave 2s infinite alternate;
            max-width: 700px;
            width: 100%;
            z-index: 30;
        }
        @keyframes panelWave {
            from { box-shadow: 0 0 50px #ff8800, inset 0 0 20px #5a2e1a; border-color: #ffaa33; }
            to { box-shadow: 0 0 100px #ffcc00, inset 0 0 40px #5a2e1a; border-color: #ffdd77; }
        }

        .moon-box {
            font-size: min(150px, 28vw);
            line-height: 1;
            filter: drop-shadow(0 0 50px #ffbb33) drop-shadow(0 0 30px #ff5500);
            background: #2a170c;
            padding: 10px 60px;
            border-radius: 200px;
            border: 8px solid #ffcc44;
            animation: moonDance 2s infinite alternate;
            cursor: pointer;
            transition: all 0.1s;
        }
        .moon-box:active {
            transform: scale(0.95);
        }
        @keyframes moonDance {
            from { transform: rotate(-5deg) scale(1); border-color: #ffcc44; }
            to { transform: rotate(5deg) scale(1.1); border-color: #ffee88; }
        }

        .shake-big {
            font-size: min(48px, 10.5vw);
            font-weight: 900;
            color: #ffdd77;
            background: #402010;
            padding: 18px 40px;
            border-radius: 100px;
            border: 6px solid #ffaa33;
            animation: shakePulse 0.8s infinite alternate;
            display: flex;
            align-items: center;
            gap: 20px;
            white-space: nowrap;
            width: 100%;
            justify-content: center;
            cursor: pointer;
        }
        .shake-big:active {
            transform: scale(0.97);
        }
        @keyframes shakePulse {
            from { transform: scale(1); background: #402010; border-color: #ffaa33; }
            to { transform: scale(1.05); background: #5a2e1a; border-color: #ffdd77; box-shadow: 0 0 40px #ffaa00; }
        }

        .result-big {
            font-size: min(52px, 11vw);
            font-weight: 900;
            background: #4f2c1a;
            padding: 22px 25px;
            border-radius: 80px;
            color: #fff5b0;
            border: 8px solid #ffbb44;
            text-align: center;
            width: 100%;
            animation: resultFlash 1.2s infinite alternate;
            word-break: break-word;
            line-height: 1.3;
        }
        @keyframes resultFlash {
            from { border-color: #ffbb44; box-shadow: inset 0 0 20px #5a2e1a, 0 0 30px #ff8800; }
            to { border-color: #ffee88; box-shadow: inset 0 0 40px #5a2e1a, 0 0 70px #ffcc00; }
        }

        /* éŸ³æ¨‚æ§åˆ¶ */
        .music-box {
            background: rgba(10,5,2,0.95);
            border: 6px solid #ffaa33;
            border-radius: 100px;
            padding: 15px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 0 50px #ff9900;
            animation: musicBreath 1.8s infinite alternate;
            max-width: 700px;
            width: 100%;
            margin-top: 20px;
        }
        @keyframes musicBreath {
            from { border-color: #ffaa33; box-shadow: 0 0 40px #ff9900; }
            to { border-color: #ffdd77; box-shadow: 0 0 80px #ffcc00; }
        }
        .music-btn {
            background: #ffaa33;
            border: none;
            color: #2d1706;
            font-size: min(40px, 8.5vw);
            font-weight: bold;
            padding: 10px 30px;
            border-radius: 80px;
            border-bottom: 8px solid #8b5a2b;
            cursor: pointer;
        }
        .music-btn:active { transform: translateY(6px); border-bottom-width: 2px; }

        /* 3Då»Ÿå®‡ */
        .temple-3d {
            width: 100%;
            max-width: 700px;
            height: 280px;
            border-radius: 60px;
            overflow: hidden;
            border: 8px solid #ffbb44;
            box-shadow: 0 0 60px #ff8800;
            animation: templeBreath 2s infinite alternate;
            margin-top: 20px;
        }
        @keyframes templeBreath {
            from { border-color: #ffbb44; box-shadow: 0 0 40px #ff8800; }
            to { border-color: #ffee88; box-shadow: 0 0 90px #ffaa00; }
        }
        #templeCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .footer-jacky {
            font-size: min(30px, 6.5vw);
            color: #ffddaa;
            margin: 25px 0 15px;
            text-shadow: 2px 2px 0 #401a0a;
            letter-spacing: 12px;
            animation: footGlow 2s infinite alternate;
        }
        @keyframes footGlow {
            from { opacity: 0.9; text-shadow: 2px 2px 0 #401a0a; }
            to { opacity: 1; text-shadow: 0 0 30px #ffaa33, 2px 2px 0 #401a0a; }
        }
    </style>
</head>
<body>

    <!-- ç¥ç¦æ³¡æ³¡å®¹å™¨ Â· æ¯æ¬¡ç­Šå°±å™´ä¸€å † -->
    <div id="blessBubbles" class="bless-bubbles"></div>

    <!-- æ»¿å¤©Jackyè³€è© Â· èƒŒæ™¯å¸¸é§é£›èˆ -->
    <div class="sky-jacky">
        <div class="fly-jacky j1">ğŸ´ Jacky ç¥ Â· é¦¬å¹´å¤§å‰</div>
        <div class="fly-jacky j2">ğŸ§§ Jacky è³€ Â· æ­å–œç™¼è²¡</div>
        <div class="fly-jacky j3">ğŸ’° Jacky è³œ Â· è²¡æºå»£é€²</div>
        <div class="fly-jacky j4">ğŸŒ¸ Jacky é¡˜ Â· é¦¬åˆ°æˆåŠŸ</div>
        <div class="fly-jacky j5">ğŸ® Jacky é€ Â· è–ç­Šé€£é€£</div>
        <div class="fly-jacky j6">âœ¨ Jacky ç¥ˆ Â· é‡‘é¦¬ç»ç‘</div>
        <div class="fly-jacky j7">ğŸ‹ Jacky ç›¼ Â· æ­¥æ­¥é«˜å‡</div>
        <div class="fly-jacky j8">ğŸŠ Jacky è´ˆ Â· å¤§å‰å¤§åˆ©</div>
        <div class="fly-jacky j9">ğŸ‡ Jacky ç¥ Â· å‰ç¨‹è¬é‡Œ</div>
        <div class="fly-jacky j10">ğŸŠ Jacky è³€ Â· äº”ç¦è‡¨é–€</div>
        <div class="fly-jacky j11">ğŸ¥¢ Jacky è³œ Â· è–ç­Šè–ç­Š</div>
        <div class="fly-jacky j12">ğŸ Jacky é¡˜ Â· é¦¬å¹´ç™¼è²¡</div>
    </div>

    <!-- ç´…åŒ…ä¸»é«” Â· Jackyç„¡é™ç¥ç¦ -->
    <div class="red-packet">
        <div class="jacky-avatar">ğŸ§§ğŸ´ğŸ¥¢</div>
        <div class="big-sheng">è–ç­Š</div>
        
        <!-- Jacky ç¥ç¦è·‘é¦¬ç‡ˆ -->
        <div class="marquee-jacky">
            <span class="marquee-text">ğŸ´ Jacky ç¥æ‚¨é¦¬å¹´è¡Œå¤§é‹ Â· è–ç­Šé€£é€£ç™¼å¤§è²¡ Â· ç„¡é™ç¥ç¦ç‚¸æ»¿å¤© ğŸ¥¢</span>
        </div>
    </div>

    <!-- è–ç­Šé¢æ¿ Â· æ–ä¸€æ¬¡å™´6å¥ç¥ç¦ -->
    <div class="bwa-panel">
        <div id="moonDisplay" class="moon-box">ğŸ¥¢ğŸ¥¢</div>
        <div id="resultDisplay" class="result-big">ğŸ¥¢ğŸ¥¢ Jacky è³œè–ç­Š</div>
        
        <div id="shakeTrigger" class="shake-big">
            <span>ğŸ“³</span>
            <span style="animation: spin 3s infinite linear;">ğŸ¥¢</span>
            <span>æ–æˆ‘å™´ç¥ç¦</span>
            <span style="animation: spin 3s infinite linear reverse;">ğŸ¥¢</span>
        </div>
        <div style="font-size: min(28px, 6vw); color: #ffcc88; margin-top: 5px; letter-spacing: 6px;">
            ğŸ‘† é»ç­Šæ¯ä¹ŸOK ğŸ‘†
        </div>
    </div>

    <!-- éŸ³æ¨‚æ§åˆ¶ -->
    <div class="music-box">
        <span style="font-size: min(40px, 8.5vw); display: flex; gap: 15px;">
            <span style="animation: spin 4s infinite linear;">ğŸµ</span>
            <span>ğŸ´ Jacky</span>
        </span>
        <button id="toggleMusicBtn" class="music-btn">ğŸ”Š</button>
    </div>

    <!-- 3Då»Ÿå®‡ -->
    <div class="temple-3d">
        <canvas id="templeCanvas"></canvas>
    </div>

    <div class="footer-jacky">
        ğŸ¥¢ Jacky Â· ç„¡é™ç¥ç¦ ğŸ´
    </div>

    <!-- èƒŒæ™¯éŸ³æ¨‚ -->
    <audio id="bgMusic" loop preload="auto" style="display: none;">
        <source src="https://raw.githubusercontent.com/Sethjesus/newyear/main/horse.mp3" type="audio/mpeg">
    </audio>

    <!-- Three.js -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.128.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.128.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        // 3D å»Ÿå®‡
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        const canvas = document.getElementById('templeCanvas');
        const width = canvas.clientWidth;
        const height = canvas.clientHeight;

        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x331e14);

        const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
        camera.position.set(5, 3, 10);
        camera.lookAt(0, 1, 0);

        const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
        renderer.setSize(width, height);
        renderer.shadowMap.enabled = true;

        const ambient = new THREE.AmbientLight(0x6f4e3a);
        scene.add(ambient);
        const light = new THREE.DirectionalLight(0xffeedd, 1);
        light.position.set(5, 8, 10);
        light.castShadow = true;
        light.receiveShadow = true;
        scene.add(light);

        const ground = new THREE.Mesh(
            new THREE.CircleGeometry(12, 20),
            new THREE.MeshStandardMaterial({ color: 0x6b4f3c, roughness: 0.8 })
        );
        ground.rotation.x = -Math.PI / 2;
        ground.position.y = -0.01;
        ground.receiveShadow = true;
        scene.add(ground);

        const base = new THREE.Mesh(
            new THREE.BoxGeometry(5.0, 0.3, 4.8),
            new THREE.MeshStandardMaterial({ color: 0x8a6b4b, roughness: 0.7 })
        );
        base.position.set(0, 0.15, 0);
        base.castShadow = true;
        base.receiveShadow = true;
        scene.add(base);

        const wall = new THREE.Mesh(
            new THREE.BoxGeometry(4.6, 1.6, 4.2),
            new THREE.MeshStandardMaterial({ color: 0xb87333, roughness: 0.6 })
        );
        wall.position.set(0, 1.0, 0);
        wall.castShadow = true;
        wall.receiveShadow = true;
        scene.add(wall);

        const roof = new THREE.Mesh(
            new THREE.ConeGeometry(3.8, 1.0, 4),
            new THREE.MeshStandardMaterial({ color: 0xcc8833, roughness: 0.5 })
        );
        roof.position.set(0, 1.95, 0);
        roof.rotation.y = Math.PI / 4;
        roof.castShadow = true;
        roof.receiveShadow = true;
        scene.add(roof);

        const lanternMat = new THREE.MeshStandardMaterial({ color: 0xd84c3c, emissive: 0x441111, emissiveIntensity: 0.2 });
        const positions = [[-1.4, 1.6, 1.4], [1.4, 1.6, 1.4], [0, 1.8, 1.4]];
        positions.forEach(pos => {
            const lantern = new THREE.Mesh(new THREE.SphereGeometry(0.22), lanternMat);
            lantern.position.set(pos[0], pos[1], pos[2]);
            lantern.castShadow = true;
            scene.add(lantern);
        });

        const burner = new THREE.Mesh(
            new THREE.CylinderGeometry(0.7, 0.8, 0.2, 16),
            new THREE.MeshStandardMaterial({ color: 0x5a4734 })
        );
        burner.position.set(0, 0.3, 0.9);
        burner.castShadow = true;
        burner.receiveShadow = true;
        scene.add(burner);

        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.06;
        controls.autoRotate = true;
        controls.autoRotateSpeed = 1.5;
        controls.enableZoom = true;
        controls.enablePan = true;
        controls.target.set(0, 1.2, 0);

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            const w = canvas.clientWidth;
            const h = canvas.clientHeight;
            renderer.setSize(w, h);
            camera.aspect = w / h;
            camera.updateProjectionMatrix();
        });

        // ************ Jacky ç„¡é™ç¥ç¦ Â· æ–ä¸€æ¬¡å™´6å¥ ************
        const moonDisplay = document.getElementById('moonDisplay');
        const resultDisplay = document.getElementById('resultDisplay');
        const shakeTrigger = document.getElementById('shakeTrigger');
        const blessBubbles = document.getElementById('blessBubbles');
        const audio = document.getElementById('bgMusic');
        const toggleBtn = document.getElementById('toggleMusicBtn');
        let isPlaying = false;

        // Jacky ç„¡é™ç¥ç¦è©åº« Â· ç¸½å…±20å¥è¼ªæµå™´
        const jackyBlessings = [
            "ğŸ´ Jacky ç¥ Â· é¦¬å¹´å¤§å‰",
            "ğŸ§§ Jacky è³€ Â· æ­å–œç™¼è²¡",
            "ğŸ’° Jacky è³œ Â· è²¡æºå»£é€²",
            "ğŸŒ¸ Jacky é¡˜ Â· é¦¬åˆ°æˆåŠŸ",
            "ğŸ® Jacky é€ Â· è–ç­Šé€£é€£",
            "âœ¨ Jacky ç¥ˆ Â· é‡‘é¦¬ç»ç‘",
            "ğŸ‹ Jacky ç›¼ Â· æ­¥æ­¥é«˜å‡",
            "ğŸŠ Jacky è´ˆ Â· å¤§å‰å¤§åˆ©",
            "ğŸ‡ Jacky ç¥ Â· å‰ç¨‹è¬é‡Œ",
            "ğŸŠ Jacky è³€ Â· äº”ç¦è‡¨é–€",
            "ğŸ¥¢ Jacky è³œ Â· è–ç­Šè–ç­Š",
            "ğŸ Jacky é¡˜ Â· é¦¬å¹´ç™¼è²¡",
            "ğŸ Jacky æ—º Â· å¥½é‹æ—ºä¾†",
            "ğŸ Jacky é€ Â· å¹³å®‰å¥åº·",
            "ğŸ’ Jacky è³œ Â· é‡‘ç‰æ»¿å ‚",
            "â­ Jacky ç…§ Â· å‰æ˜Ÿé«˜ç…§",
            "ğŸŒ¾ Jacky è± Â· äº”ç©€è±ç™»",
            "ğŸ† Jacky å¥ª Â· ä¸€é¦¬ç•¶å…ˆ",
            "ğŸ Jacky è´ˆ Â· ç¦æ°£æ»¿æ»¿",
            "ğŸˆ Jacky ç¥ Â· å¿ƒæƒ³äº‹æˆ"
        ];

        // æ’­æ”¾éŸ³æ¨‚
        audio.volume = 0.4;
        audio.play().then(() => {
            isPlaying = true;
            toggleBtn.textContent = 'ğŸ”Š';
        }).catch(() => {
            isPlaying = false;
            toggleBtn.textContent = 'ğŸ”‡';
        });

        toggleBtn.addEventListener('click', () => {
            if (isPlaying) {
                audio.pause();
                toggleBtn.textContent = 'ğŸ”‡';
            } else {
                audio.play();
                toggleBtn.textContent = 'ğŸ”Š';
            }
            isPlaying = !isPlaying;
        });

        // å™´ç™¼ç¥ç¦æ³¡æ³¡ Â· ä¸€æ¬¡å™´6å¥ï¼
        function explodeBlessings() {
            // æ¸…é™¤èˆŠæ³¡æ³¡ï¼ˆé¸æ“‡æ€§ï¼Œä¹Ÿå¯ä»¥è®“å®ƒç–ŠåŠ ï¼‰
            // blessBubbles.innerHTML = ''; // å¦‚æœè¦ç–ŠåŠ å°±è¨»è§£æ‰
            
            // éš¨æ©Ÿé¸6å¥ä¸é‡è¤‡çš„ç¥ç¦
            const shuffled = [...jackyBlessings].sort(() => Math.random() - 0.5);
            const selected = shuffled.slice(0, 6);
            
            // å–å¾—è¢å¹•å¯¬é«˜ä½œç‚ºå™´ç™¼ç¯„åœ
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            
            selected.forEach((bless, index) => {
                setTimeout(() => {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble-bless';
                    bubble.textContent = bless;
                    
                    // éš¨æ©Ÿä½ç½®ï¼ˆé›†ä¸­åœ¨ä¸­ä¸‹å€åŸŸï¼Œå‘ä¸Šå™´ç™¼ï¼‰
                    const startX = Math.random() * (screenWidth - 200) + 50;
                    const startY = screenHeight * (0.5 + Math.random() * 0.3);
                    
                    bubble.style.left = startX + 'px';
                    bubble.style.top = startY + 'px';
                    
                    // éš¨æ©Ÿå¤§å°
                    const scale = 0.8 + Math.random() * 0.8;
                    bubble.style.fontSize = `${scale * 36}px`;
                    
                    // éš¨æ©Ÿå‹•ç•«æ™‚é–“
                    const duration = 2.5 + Math.random() * 1.5;
                    bubble.style.animation = `bubbleUp ${duration}s ease-out forwards`;
                    
                    blessBubbles.appendChild(bubble);
                    
                    // 3ç§’å¾Œç§»é™¤
                    setTimeout(() => {
                        if (bubble.parentNode) {
                            bubble.remove();
                        }
                    }, duration * 1000);
                }, index * 80); // é–“éš”80msä¾åºå™´å‡º
            });
        }

        // æ–æ™ƒ/é»æ“Šè–ç­Š
        function throwSheng() {
            // ç­Šæ¯å‹•ç•«
            moonDisplay.classList.add('shake-animation');
            setTimeout(() => {
                moonDisplay.classList.remove('shake-animation');
            }, 400);
            
            // é¡¯ç¤ºè–ç­Š
            moonDisplay.textContent = 'ğŸ¥¢ğŸ¥¢';
            resultDisplay.innerHTML = 'ğŸ¥¢ğŸ¥¢ Jacky è³œè–ç­Š Â· ç„¡é™ç¥ç¦';
            
            // éœ‡å‹•
            if (navigator.vibrate) navigator.vibrate(45);
            
            // å™´ç™¼6å¥ç¥ç¦æ³¡æ³¡ï¼ï¼ï¼
            explodeBlessings();
        }

        // CSS å‹•ç•«
        const style = document.createElement('style');
        style.innerHTML = `
            .shake-animation {
                animation: shakeHard 0.4s cubic-bezier(0.25, 0.1, 0.25, 1) !important;
            }
            @keyframes shakeHard {
                0% { transform: rotate(0deg); }
                20% { transform: rotate(35deg); }
                40% { transform: rotate(-35deg); }
                60% { transform: rotate(25deg); }
                80% { transform: rotate(-15deg); }
                100% { transform: rotate(0deg); }
            }
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);

        // æ–æ™ƒåµæ¸¬
        let lastShake = 0;
        if (window.DeviceMotionEvent) {
            window.addEventListener('devicemotion', function(event) {
                const acc = event.accelerationIncludingGravity;
                if (!acc) return;

                const now = Date.now();
                if (now - lastShake < 900) return;

                const x = Math.abs(acc.x || 0);
                const y = Math.abs(acc.y || 0);
                const z = Math.abs(acc.z || 0);

                if ((x > 9.5 || y > 9.5 || z > 9.5) && (x + y + z > 23)) {
                    lastShake = now;
                    throwSheng();
                }
            }, false);
        }

        // é»æ“Šç­Šæ¯è§¸ç™¼
        moonDisplay.addEventListener('click', throwSheng);
        
        // é»æ“Šã€Œæ–æˆ‘å™´ç¥ç¦ã€ä¹Ÿè§¸ç™¼
        shakeTrigger.addEventListener('click', throwSheng);
        
        // é è¨­è–ç­Š
        moonDisplay.textContent = 'ğŸ¥¢ğŸ¥¢';
        resultDisplay.innerHTML = 'ğŸ¥¢ğŸ¥¢ Jacky è³œè–ç­Š Â· ç„¡é™ç¥ç¦';
    </script>
</body>
</html>